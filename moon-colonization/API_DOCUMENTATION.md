# API Documentation

Данная документация описывает все доступные API эндпоинты проекта лунной колонизации.

## Оглавление

- [Пользователи](#пользователи)
  - [Авторизация пользователя](#авторизация-пользователя)
  - [Получение статистики пользователя](#получение-статистики-пользователя)
  - [Создание пользователя](#создание-пользователя)
- [Колония](#колония)
  - [Создание колонии](#создание-колонии)
  - [Удаление колонии](#удаление-колонии)
- [Модули](#модули)
  - [Получение оптимальности модулей](#получение-оптимальности-модулей)
  - [Создание модуля](#создание-модуля)
  - [Удаление модуля](#удаление-модуля)
- [Соединения](#соединения)
  - [Создание соединения](#создание-соединения)
  - [Удаление соединения](#удаление-соединения)
- [Проверка размещения](#проверка-размещения)
  - [Проверка места для размещения модуля](#проверка-места-для-размещения-модуля)
- [Игровой процесс](#игровой-процесс)
  - [Добавление дня](#добавление-дня)
  - [Получение рейтинга успешности](#получение-рейтинга-успешности)
- [Территории](#территории)
  - [Получение информации о зонах](#получение-информации-о-зонах)

## Пользователи

### Авторизация пользователя

Позволяет авторизовать существующего пользователя и получить все данные о его колонии.

- **URL**: `/user`
- **Метод**: `POST`
- **Тело запроса**: JSON объект с полями email и password
  ```json
  {
    "email": "email@example.com",
    "password": "password123"
  }
  ```
- **Успешный ответ**: JSON объект типа AllUserInfo со всеми данными о колонии пользователя
- **Коды ответов**:
  - `200 OK`: Успешная авторизация
  - `401 Unauthorized`: Неверные учетные данные
  - `500 Internal Server Error`: Ошибка сервера

### Получение статистики пользователя

Получает статистику пользователя по его ID.

- **URL**: `/user/{id}`
- **Метод**: `GET`
- **Параметры URL**:
  - `id`: ID пользователя
- **Успешный ответ**: JSON объект типа Statistics с данными о статистике пользователя
- **Коды ответов**:
  - `200 OK`: Успешное получение статистики
  - `404 Not Found`: Пользователь не найден
  - `500 Internal Server Error`: Ошибка сервера

### Создание пользователя

Регистрирует нового пользователя в системе.

- **URL**: `/userCreate`
- **Метод**: `POST`
- **Тело запроса**: JSON объект с информацией о пользователе
  ```json
  {
    "name": "Имя пользователя",
    "email": "email@example.com",
    "password": "password123"
  }
  ```
- **Успешный ответ**: ID созданного пользователя (число)
- **Коды ответов**:
  - `200 OK`: Пользователь успешно создан
  - `400 Bad Request`: Некорректные данные
  - `409 Conflict`: Пользователь с таким email уже существует
  - `500 Internal Server Error`: Ошибка сервера

## Колония

### Создание колонии

Создает новую колонию для указанного пользователя.

- **URL**: `/colony`
- **Метод**: `POST`
- **Тело запроса**: ID пользователя (число)
- **Успешный ответ**: JSON объект типа AllUserInfo с информацией о созданной колонии
- **Коды ответов**:
  - `200 OK`: Колония успешно создана
  - `404 Not Found`: Пользователь не найден
  - `500 Internal Server Error`: Ошибка сервера

### Удаление колонии

Удаляет колонию указанного пользователя.

- **URL**: `/colony`
- **Метод**: `DELETE`
- **Параметры запроса**:
  - `idUser`: ID пользователя
- **Успешный ответ**: Пустой ответ с кодом 200
- **Коды ответов**:
  - `200 OK`: Колония успешно удалена
  - `404 Not Found`: Колония или пользователь не найдены
  - `500 Internal Server Error`: Ошибка сервера

## Модули

### Получение оптимальности модулей

Получает информацию об оптимальности размещения модулей для указанного пользователя.

- **URL**: `/module/{idUser}`
- **Метод**: `GET`
- **Параметры URL**:
  - `idUser`: ID пользователя
- **Успешный ответ**: Массив JSON объектов типа Optimality с данными об оптимальности модулей
- **Коды ответов**:
  - `200 OK`: Успешное получение данных
  - `404 Not Found`: Пользователь не найден
  - `500 Internal Server Error`: Ошибка сервера

### Создание модуля

Создает новый модуль в колонии.

- **URL**: `/module`
- **Метод**: `POST`
- **Тело запроса**: JSON объект типа Module с данными о создаваемом модуле
  ```json
  {
    "id_user": 1,
    "id_zone": 1,
    "module_type": 1,
    "x": 10,
    "y": 20
  }
  ```
- **Успешный ответ**: Integer - статус создания модуля
- **Коды ответов**:
  - `200 OK`: Модуль успешно создан
  - `400 Bad Request`: Некорректные данные
  - `500 Internal Server Error`: Ошибка сервера

### Удаление модуля

Удаляет указанный модуль из колонии пользователя.

- **URL**: `/module/{idUser}`
- **Метод**: `DELETE`
- **Параметры URL**:
  - `idUser`: ID пользователя
- **Параметры запроса**:
  - `id`: ID модуля для удаления
- **Успешный ответ**: Пустой ответ с кодом 200
- **Коды ответов**:
  - `200 OK`: Модуль успешно удален
  - `404 Not Found`: Модуль или пользователь не найдены
  - `500 Internal Server Error`: Ошибка сервера

## Соединения

### Создание соединения

Создает новое соединение между модулями.

- **URL**: `/link`
- **Метод**: `POST`
- **Тело запроса**: JSON объект типа Link с данными о создаваемом соединении
  ```json
  {
    "id_user": 1,
    "id_from": 1,
    "id_to": 2
  }
  ```
- **Успешный ответ**: Integer - статус создания соединения
- **Коды ответов**:
  - `200 OK`: Соединение успешно создано
  - `400 Bad Request`: Некорректные данные
  - `500 Internal Server Error`: Ошибка сервера

### Удаление соединения

Удаляет указанное соединение.

- **URL**: `/link`
- **Метод**: `DELETE`
- **Параметры запроса**: JSON объект типа Link с данными о удаляемом соединении
- **Успешный ответ**: Пустой ответ с кодом 200
- **Коды ответов**:
  - `200 OK`: Соединение успешно удалено
  - `404 Not Found`: Соединение не найдено
  - `500 Internal Server Error`: Ошибка сервера

## Проверка размещения

### Проверка места для размещения модуля

Проверяет возможность размещения модуля в указанном месте.

- **URL**: `/check`
- **Метод**: `POST`
- **Тело запроса**: JSON объект типа ModulePlace с данными о проверяемом размещении
  ```json
  {
    "id_user": 1,
    "id_zone": 1,
    "module_type": 1,
    "x": 10,
    "y": 20
  }
  ```
- **Успешный ответ**: JSON объект типа CheckedPlace с результатами проверки
- **Коды ответов**:
  - `200 OK`: Проверка выполнена
  - `400 Bad Request`: Некорректные данные
  - `500 Internal Server Error`: Ошибка сервера

## Игровой процесс

### Добавление дня

Добавляет один игровой день для указанного пользователя, обновляет ресурсы и другие параметры.

- **URL**: `/day/{idUser}`
- **Метод**: `GET`
- **Параметры URL**:
  - `idUser`: ID пользователя
- **Успешный ответ**: JSON объект типа ChangeDay с информацией об изменениях за день
- **Коды ответов**:
  - `200 OK`: День успешно добавлен
  - `404 Not Found`: Пользователь не найден
  - `500 Internal Server Error`: Ошибка сервера

### Получение рейтинга успешности

Получает рейтинг успешности колонии указанного пользователя.

- **URL**: `/success/{id}`
- **Метод**: `GET`
- **Параметры URL**:
  - `id`: ID пользователя
- **Успешный ответ**: JSON объект типа Successful с данными об успешности колонии
- **Коды ответов**:
  - `200 OK`: Успешное получение рейтинга
  - `404 Not Found`: Пользователь не найден
  - `500 Internal Server Error`: Ошибка сервера

## Территории

### Получение информации о зонах

Получает информацию о доступных зонах для размещения модулей.

- **URL**: `/area`
- **Метод**: `GET`
- **Успешный ответ**: Массив JSON объектов типа Area с данными о зонах
- **Коды ответов**:
  - `200 OK`: Успешное получение данных
  - `500 Internal Server Error`: Ошибка сервера

## Типы модулей

В системе существуют различные типы модулей, включая:

- Жилые модули (LIVE_MODULE_X, LIVE_MODULE_Y)
- Административные модули (ADMINISTRATIVE_MODULE, LIVE_ADMINISTRATIVE_MODULE)
- Спортивные модули (SPORT_MODULE)
- Медицинские модули (MEDICAL_MODULE)
- Исследовательские модули (RESEARCH_MODULE_*)
- Производственные модули (PLANTATION, MANUFACTURING_ENTERPRISE и другие)
- Складские модули (WAREHOUSE_*)
- Инфраструктурные модули (HALLWAY, COSMODROME и другие)

## Коды ошибок

API может возвращать следующие коды ошибок:
- `400 Bad Request`: Некорректные данные в запросе
- `401 Unauthorized`: Ошибка авторизации
- `404 Not Found`: Запрашиваемый ресурс не найден
- `409 Conflict`: Конфликт данных (например, пользователь с таким email уже существует)
- `500 Internal Server Error`: Внутренняя ошибка сервера
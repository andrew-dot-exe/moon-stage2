# Документация проекта "Колонизация Луны"

## Содержание

1. [Обзор проекта](#обзор-проекта)
2. [Технический стек](#технический-стек)
3. [Установка и запуск проекта](#установка-и-запуск-проекта)
4. [Структура проекта](#структура-проекта)
5. [Пользовательский интерфейс](#пользовательский-интерфейс)
   - [Авторизация](#авторизация)
   - [Выбор зоны](#выбор-зоны)
   - [Колонизация](#колонизация)
   - [Игровой интерфейс](#игровой-интерфейс)
6. [Игровая механика](#игровая-механика)
   - [Ресурсы](#ресурсы)
   - [Модули](#модули)
   - [Игровое время](#игровое-время)
   - [Статистика](#статистика)
7. [Система хранения данных](#система-хранения-данных)
8. [API Reference](#api-reference)
9. [Дополнительные скрипты](#дополнительные-скрипты)
10. [Советы по разработке](#советы-по-разработке)

## Обзор проекта

"Колонизация Луны" - это симуляция строительства и управления лунной колонией. Проект представляет собой веб-приложение, в котором пользователи могут создавать и развивать свои лунные колонии, управлять ресурсами, строить различные модули и следить за развитием своего поселения.

Основные возможности:
- Авторизация и регистрация пользователей
- Выбор зоны для размещения колонии на Луне
- Строительство различных модулей колонии
- Управление ресурсами (вода, кислород, еда, энергия и др.)
- Отслеживание статистики колонии (настроение, население, успешность)
- Симуляция течения времени и ежедневных изменений в колонии

## Технический стек

Проект разработан с использованием следующих технологий:

- **Frontend**:
  - Vue.js 3 - фреймворк для построения пользовательского интерфейса
  - Vite - инструмент сборки
  - Pinia - библиотека управления состоянием
  - CSS - для стилизации компонентов

- **Backend**:
  - RESTful API (документация в [API Reference](#api-reference))
  - База данных SQL (структура в файле dbase.sql)

## Установка и запуск проекта

### Требования

- Node.js (последняя стабильная версия)
- npm или yarn
- Python 3.x (для дополнительных скриптов)

### Шаги по установке

1. Клонирование репозитория:
   ```
   git clone <url-репозитория>
   cd moon-colonization
   ```

2. Установка зависимостей:
   ```
   npm install
   ```

3. Запуск в режиме разработки:
   ```
   npm run dev
   ```

4. Сборка для продакшена:
   ```
   npm run build
   ```

## Структура проекта

Проект имеет следующую структуру:

```
moon-colonization/
│
├── public/              # Статические файлы
│   ├── favicon.ico
│   ├── buildings/       # Изображения модулей
│   ├── fonts/
│   ├── resources-icons/ # Иконки ресурсов
│   ├── textures/        # Текстуры для карты Луны
│   └── ui/              # Элементы пользовательского интерфейса
│
├── scripts/             # Вспомогательные скрипты Python
│   ├── generate_textures.py
│   ├── generate_zone_textures.py
│   └── requirements.txt
│
├── src/                 # Исходный код приложения
│   ├── App.vue          # Корневой компонент приложения
│   ├── main.js          # Точка входа приложения
│   ├── assets/          # Стили и ресурсы
│   ├── components/      # Vue компоненты
│   ├── router/          # Маршрутизация
│   ├── services/        # Сервисы для работы с API
│   ├── stores/          # Хранилища состояния (Pinia)
│   └── utils/           # Утилиты и вспомогательные функции
│
├── dbase.sql            # Структура базы данных
├── index.html           # Основной HTML-файл
├── jsconfig.json        # Конфигурация JavaScript
├── moon.html            # HTML для режима колонизации
├── package.json         # Зависимости и скрипты npm
├── vite.config.js       # Конфигурация Vite
└── zone-choose.html     # HTML для выбора зоны
```

## Пользовательский интерфейс

### Авторизация

Компонент: `LoginForm.vue`

При запуске приложения пользователю предлагается авторизоваться или зарегистрироваться. После успешной авторизации пользователь получает доступ к основному интерфейсу приложения.

### Выбор зоны

Компонент: `ZonePage.vue`

После авторизации пользователь должен выбрать зону на Луне для размещения колонии. Зоны различаются по типу местности:
- Возвышенности (Heights)
- Низменности (Lowlands)
- Равнины (Plains)

Каждая зона имеет свои особенности, влияющие на игровой процесс.

### Колонизация

Компонент: `Colonization.vue`

Основной игровой экран, где пользователь может:
- Размещать различные модули на карте
- Управлять ресурсами
- Следить за развитием колонии
- Строить соединения между модулями

### Игровой интерфейс

Компонент: `GameInterface.vue`

Содержит элементы управления и информационные панели:
- Строительное меню (`BuildMenu.vue`)
- Статистика игры (`GameStats.vue`)
- Мини-карта (`MiniMap.vue`)
- Кнопки управления игровым процессом

## Игровая механика

### Ресурсы

В игре доступны следующие ресурсы:
- Вода (water)
- Топливо (fuel)
- Еда (food)
- Энергия (energy)
- Кислород (oxygen)
- Углекислый газ (co2)
- Отходы (waste)
- Строительные материалы (construction)

Ресурсы расходуются и пополняются в зависимости от построенных модулей и течения игрового времени.

### Модули

В игре существуют различные типы модулей:

#### Жилые модули
- Жилые модули (2x1living-module)
- Административные модули (admin-module)
- Медицинские модули (medical-module)
- Спортивные модули (sport-module)
- Исследовательские модули (research-module)
- Плантации (plantation)

#### Технологические модули
- Солнечные электростанции (solar-power-plant)
- Добывающие базы (mining-base)
- Производственные предприятия (manufacture)
- Склады (warehouse)
- Коммуникационные башни (communication-tower)
- Космодромы (cosmodrome)
- Телескопы (telescope)
- Центры переработки отходов (waste-center)
- Ремонтные модули (repair-module)

Каждый модуль имеет свою стоимость, требования к размещению и влияние на игровой процесс.

### Игровое время

Время в игре течет с определенной скоростью. Каждый игровой день приводит к:
- Потреблению ресурсов
- Производству новых ресурсов
- Изменению статистики колонии
- Влиянию на настроение колонистов

### Статистика

Игра отслеживает несколько ключевых показателей:
- Успешность колонии (success)
- Настроение колонистов (mood)
- Численность населения (population)
- Обеспеченность ресурсами (resources)
- Уровень централизации (centralization)
- Научный прогресс (research)

## Система хранения данных

Проект использует Pinia для управления состоянием приложения. Основной хранилищем является `gameStore.js`, которое содержит:

- Данные пользователя и авторизации
- Состояние ресурсов
- Статистику колонии
- Игровое время
- Состояние карты
- Информацию о зонах
- Данные о построенных зданиях

Все действия, связанные с изменением состояния игры, проходят через это хранилище.

## API Reference

Подробное описание API представлено в файле [API_DOCUMENTATION.md](API_DOCUMENTATION.md), где описаны все доступные эндпоинты для взаимодействия с серверной частью приложения.

Основные группы API:
- API для работы с пользователями (авторизация, регистрация)
- API для управления колонией
- API для работы с модулями
- API для управления соединениями
- API для игрового процесса
- API для работы с территориями

## Дополнительные скрипты

В директории `scripts/` находятся вспомогательные Python-скрипты:

- `generate_textures.py` - скрипт для генерации текстур Луны
- `generate_zone_textures.py` - скрипт для создания текстур зон

Для использования скриптов необходимо установить зависимости из `requirements.txt`:
```
pip install -r scripts/requirements.txt
```

## Советы по разработке

### Расширение функциональности

Для добавления новых типов модулей:
1. Добавьте изображение модуля в соответствующую директорию
2. Обновите функцию `getIconPathForModuleType` в `gameStore.js`
3. Добавьте логику работы модуля в `buildingMechanics.js`

### Улучшение производительности

- Используйте оптимизированные изображения
- Применяйте уровни детализации (LOD) для текстур карты
- Минимизируйте количество запросов к API

### Отладка

Для отладки API запросов:
- Используйте вкладку Network в инструментах разработчика
- Проверяйте ответы сервера в консоли (все запросы логируются)

### Локализация

Проект поддерживает русский язык. Для добавления новых языков:
1. Создайте файлы локализации
2. Добавьте поддержку выбора языка в UI
3. Реализуйте переключение языка в хранилище

---

## Заключение

Данная документация предоставляет общее представление о проекте "Колонизация Луны" и его основных компонентах. Для получения более подробной информации о конкретных аспектах проекта обратитесь к соответствующим разделам исходного кода.

Для обновления данной документации при внесении изменений в проект рекомендуется следовать структуре, представленной выше, и отражать все важные изменения, которые могут повлиять на понимание проекта другими разработчиками.